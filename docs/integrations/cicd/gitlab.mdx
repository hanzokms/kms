---
title: "GitLab"
description: "How to sync secrets from Hanzo KMS to GitLab"
---


    Prerequisites:
    - Set up and add envars to [Hanzo KMS Cloud](https://kms.hanzo.ai).

    <AccordionGroup>
      <Accordion title="Standard">
        Use our [GitLab Secret Syncs](../secret-syncs/gitlab)
      </Accordion>
      <Accordion title="Pipeline">
        <Steps>
          <Step title="Authorize Hanzo KMS for GitLab">
            Generate an [Hanzo KMS Token](/documentation/platform/token) for the specific project and environment in Hanzo KMS.

            Next, create a new variable called `KMS_TOKEN` with the value set to the token from the previous step in Settings > CI/CD > Variables of your GitLab repository.
          </Step>
          <Step title="Configure Hanzo KMS in your pipeline">
            Edit your `.gitlab-ci.yml` to include the KMS CLI installation. This will allow you to use the CLI for fetching and injecting secrets into any script or command within your Gitlab CI/CD process.

            #### Example

            ```yaml
            image: ubuntu

            stages:
              - build
              - test
              - deploy

            build-job:
              stage: build
              script:
                - apt update && apt install -y curl
                - curl -1sLf 'https://artifacts-cli.infisical.com/setup.deb.sh' | bash
                - apt-get update && apt-get install -y infisical
                - infisical run -- npm run build
            ```
          </Step>
        </Steps>
      </Accordion>
    </AccordionGroup>